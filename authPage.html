<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>CampusHub | Authentication</title>
 <script src="https://cdn.tailwindcss.com"></script>
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 <style>
 /* Your existing CSS styles remain unchanged */
 .input-field {
 width: 100%;
 padding: 0.75rem 1rem;
 border-radius: 0.375rem;
 border: 1px solid #d1d5db;
 background-color: #f9fafb;
 transition: all 0.2s ease;
 font-size: 0.875rem;
 }
 
 .input-field:focus {
 outline: none;
 border-color: #6366f1;
 box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
 background-color: white;
 }
 
 .dark .input-field {
 background-color: #374151;
 border-color: #4b5563;
 color: #f3f4f6;
 }
 
 .dark .input-field:focus {
 border-color: #818cf8;
 box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.1);
 background-color: #1f2937;
 }
 
 .input-group {
 position: relative;
 margin-bottom: 1.25rem;
 }
 
 .input-group i {
 position: absolute;
 top: 50%;
 left: 1rem;
 transform: translateY(-50%);
 color: #6b7280;
 }
 
 .dark .input-group i {
 color: #9ca3af;
 }
 
 .form-input {
 padding-left: 2.75rem;
 width: 100%;
 }
 
 .password-toggle {
 position: absolute;
 top: 50%;
 right: 0.75rem;
 transform: translateY(-50%);
 cursor: pointer;
 color: #6b7280;
 }
 .password-strength {
 height: 4px;
 background-color: #e5e7eb;
 margin-top: 0.5rem;
 border-radius: 2px;
 }
 .password-strength-bar {
 height: 100%;
 width: 0%;
 border-radius: 2px;
 transition: width 0.3s ease;
 }
 .role-option {
 transition: all 0.2s ease;
 }
 .role-option:hover {
 border-color: #3b82f6;
 }
 .role-tooltip {
 position: absolute;
 bottom: 100%;
 left: 50%;
 transform: translateX(-50%);
 background-color: #1f2937;
 color: white;
 padding: 0.5rem;
 border-radius: 0.375rem;
 font-size: 0.75rem;
 width: 150px;
 opacity: 0;
 visibility: hidden;
 transition: all 0.2s ease;
 z-index: 10;
 }
 .role-option:hover .role-tooltip {
 opacity: 1;
 visibility: visible;
 }
 .toggle-forms.active {
 color: #1e40af;
 position: relative;
 }
 .toggle-forms.active:after {
 content: '';
 position: absolute;
 bottom: -8px;
 left: 0;
 width: 100%;
 height: 2px;
 background-color: #1e40af;
 }
 .gradient-bg {
 background: linear-gradient(135deg, #6366f1, #8b5cf6);
 }
 
 /* Dark mode support */
 .dark .password-toggle {
 color: #9ca3af;
 }
 .dark .password-strength {
 background-color: #4b5563;
 }
 .dark .role-option:hover {
 border-color: #6366f1;
 }
 .dark .role-tooltip {
 background-color: #374151;
 }
 
 /* Loading spinner */
 @keyframes spin {
 0% { transform: rotate(0deg); }
 100% { transform: rotate(360deg); }
 }
 .loading {
 animation: spin 1s linear infinite;
 }
 
 /* Sticky navbar */
 .navbar {
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 z-index: 1000;
 transition: all 0.3s ease;
 }
 .navbar-scrolled {
 background-color: rgba(255, 255, 255, 0.95);
 box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
 }
 .dark .navbar-scrolled {
 background-color: rgba(31, 41, 55, 0.95);
 }
 
 /* Main content spacing */
 .main-content {
 margin-top: 80px;
 }

 /* Toast notification */
 .toast {
 position: fixed;
 top: 20px;
 right: 20px;
 padding: 12px 24px;
 border-radius: 8px;
 box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
 z-index: 9999;
 transform: translateX(150%);
 transition: transform 0.3s ease;
 }
 .toast.show {
 transform: translateX(0);
 }
 .toast.success {
 background-color: #10b981;
 color: white;
 }
 .toast.error {
 background-color: #ef4444;
 color: white;
 }
 
 /* Label styling */
 .form-label {
 display: block;
 margin-bottom: 0.5rem;
 font-size: 0.875rem;
 font-weight: 500;
 color: #374151;
 }
 
 .dark .form-label {
 color: #d1d5db;
 }
 </style>
</head>
<body class="font-sans bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-200">
 <!-- Toast Notification -->
 <div id="toast" class="toast hidden"></div>

 <!-- Sticky Navbar -->
 <nav class="navbar bg-white dark:bg-gray-800 shadow-md">
 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
 <div class="flex justify-between h-16">
 <div class="flex items-center">
 <div class="flex-shrink-0 flex items-center">
 <i class="fas fa-university text-primary-600 dark:text-primary-400 text-2xl mr-2"></i>
 <span class="text-xl font-heading font-bold text-gray-800 dark:text-white">CampusHub</span>
 </div>
 <div class="hidden md:ml-6 md:flex md:space-x-8">
 <a href="index.html" class="border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Home</a>
 <a href="events.html" class="border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Events</a>
 <a href="clubs.html" class="border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Clubs</a>
 <a href="#announcements" class="border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Announcements</a>
 </div>
 </div>
 <div class="hidden md:flex items-center space-x-4">
 <button id="theme-toggle" type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg p-2.5">
 <i class="fas fa-moon dark:hidden"></i>
 <i class="fas fa-sun hidden dark:inline"></i>
 </button>
 <a href="authPage.html" id="loginNavBtn" class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors">Login</a>
 <a href="#" id="logoutNavBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors hidden">Logout</a>
 </div>
 <div class="-mr-2 flex items-center md:hidden">
 <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none">
 <span class="sr-only">Open main menu</span>
 <i class="fas fa-bars text-xl"></i>
 </button>
 </div>
 </div>
 </div>
 </nav>

 <!-- Main Content -->
 <div class="main-content flex items-center justify-center min-h-[calc(100vh-80px)] p-4">
 <div class="w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
 <!-- Logo Header -->
 <div class="gradient-bg p-6 text-center">
 <div class="flex items-center justify-center mb-2">
 <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-primary-600 mr-3">
 <i class="fas fa-university text-xl"></i>
 </div>
 <h1 class="text-2xl font-bold text-white">CampusHub</h1>
 </div>
 <p class="text-primary-100 text-sm">Your gateway to campus life</p>
 </div>
 
 <!-- Form Content -->
 <div class="p-8">
 <!-- Form Toggle -->
 <div class="flex justify-center space-x-8 mb-8">
 <button id="loginToggle" class="text-lg font-medium text-gray-800 dark:text-gray-200 toggle-forms active">Login</button>
 <button id="registerToggle" class="text-lg font-medium text-gray-800 dark:text-gray-200 toggle-forms">Register</button>
 </div>
 
 <!-- Login Form -->
 <form id="loginForm" class="space-y-5">
 <div class="input-group">
 <i class="fas fa-envelope"></i>
 <input type="email" id="loginEmail" placeholder="Email Address" class="input-field form-input" required>
 </div>
 
 <div class="input-group">
 <i class="fas fa-lock"></i>
 <input type="password" id="loginPassword" placeholder="Password" class="input-field form-input" required>
 <i class="fas fa-eye password-toggle" id="toggleLoginPassword"></i>
 </div>
 
 <div class="flex items-center justify-between">
 <div class="flex items-center">
 <input type="checkbox" id="rememberMe" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600">
 <label for="rememberMe" class="ml-2 block text-sm text-gray-700 dark:text-gray-300">Remember me</label>
 </div>
 <a href="#" class="text-sm text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300">Forgot password?</a>
 </div>
 
 <div>
 <label for="loginRole" class="form-label">Select Role</label>
 <select id="loginRole" class="input-field w-full">
 <option value="student">Student</option>
 <option value="club-rep">Club Representative</option>
 <option value="admin">Administrator</option>
 </select>
 </div>
 
 <button type="submit" class="w-full bg-primary-600 hover:bg-primary-700 text-white px-4 py-3 rounded-md text-sm font-medium transition-colors flex items-center justify-center">
 <span id="loginBtnText">Login</span>
 <i class="fas fa-spinner loading hidden ml-2"></i>
 </button>
 
 <div class="flex items-center justify-center space-x-4 my-4">
 <div class="h-px bg-gray-300 dark:bg-gray-600 flex-1"></div>
 <span class="text-gray-500 dark:text-gray-400 text-sm">OR</span>
 <div class="h-px bg-gray-300 dark:bg-gray-600 flex-1"></div>
 </div>
 
 <button type="button" class="w-full bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-800 dark:text-white px-4 py-3 rounded-md text-sm font-medium transition-colors border border-gray-300 dark:border-gray-600 flex items-center justify-center">
 <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google Logo" class="w-5 h-5 mr-2">
 Continue with Google
 </button>
 
 <div class="text-center text-sm text-gray-600 dark:text-gray-400 mt-6">
 Don't have an account? <a href="#" id="switchToRegister" class="text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 font-medium">Register here</a>
 </div>
 </form>
 
 <!-- Register Form -->
 <form id="registerForm" class="space-y-5 hidden">
 <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
 <div>
 <label for="firstName" class="form-label">First Name</label>
 <input type="text" id="firstName" placeholder="John" class="input-field" required>
 </div>
 <div>
 <label for="lastName" class="form-label">Last Name</label>
 <input type="text" id="lastName" placeholder="Doe" class="input-field" required>
 </div>
 </div>
 
 <div>
 <label for="registerEmail" class="form-label">Email Address</label>
 <div class="input-group">
 <i class="fas fa-envelope"></i>
 <input type="email" id="registerEmail" placeholder="student@university.edu" class="input-field form-input" required>
 </div>
 <p id="emailError" class="text-xs text-red-500 mt-1 hidden">Please enter a valid email address</p>
 </div>
 
 <div>
 <label for="phone" class="form-label">Phone Number</label>
 <div class="input-group">
 <i class="fas fa-phone"></i>
 <input type="tel" id="phone" placeholder="+1 (555) 123-4567" class="input-field form-input">
 </div>
 </div>
 
 <div>
 <label for="registerPassword" class="form-label">Password</label>
 <div class="input-group">
 <i class="fas fa-lock"></i>
 <input type="password" id="registerPassword" placeholder="Create a password" class="input-field form-input" required>
 <i class="fas fa-eye password-toggle" id="toggleRegisterPassword"></i>
 </div>
 <div class="password-strength">
 <div class="password-strength-bar" id="passwordStrengthBar"></div>
 </div>
 <p id="passwordError" class="text-xs text-red-500 mt-1 hidden">Password must be at least 8 characters</p>
 </div>
 
 <div>
 <label for="confirmPassword" class="form-label">Confirm Password</label>
 <div class="input-group">
 <i class="fas fa-lock"></i>
 <input type="password" id="confirmPassword" placeholder="Confirm your password" class="input-field form-input" required>
 </div>
 <p id="confirmPasswordError" class="text-xs text-red-500 mt-1 hidden">Passwords do not match</p>
 </div>
 
 <div>
 <label class="form-label">Select Your Role</label>
 <div class="grid grid-cols-3 gap-2">
 <div class="relative">
 <input type="radio" id="studentRole" name="role" value="student" class="hidden peer" checked>
 <label for="studentRole" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-primary-500 peer-checked:bg-primary-50 dark:peer-checked:bg-gray-700 transition duration-200 role-option">
 <i class="fas fa-user-graduate text-2xl text-primary-600 dark:text-primary-400 mb-2"></i>
 <span class="text-sm font-medium">Student</span>
 <div class="role-tooltip">
 <p>For regular students to access campus events and resources</p>
 </div>
 </label>
 </div>
 
 <div class="relative">
 <input type="radio" id="clubRole" name="role" value="club-rep" class="hidden peer">
 <label for="clubRole" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-primary-500 peer-checked:bg-primary-50 dark:peer-checked:bg-gray-700 transition duration-200 role-option">
 <i class="fas fa-users text-2xl text-primary-600 dark:text-primary-400 mb-2"></i>
 <span class="text-sm font-medium">Club Rep</span>
 <div class="role-tooltip">
 <p>For club representatives to manage events and members</p>
 </div>
 </label>
 </div>
 
 <div class="relative">
 <input type="radio" id="adminRole" name="role" value="admin" class="hidden peer">
 <label for="adminRole" class="flex flex-col items-center justify-center p-4 border border-gray-300 rounded-lg cursor-pointer peer-checked:border-primary-500 peer-checked:bg-primary-50 dark:peer-checked:bg-gray-700 transition duration-200 role-option">
 <i class="fas fa-user-shield text-2xl text-primary-600 dark:text-primary-400 mb-2"></i>
 <span class="text-sm font-medium">Admin</span>
 <div class="role-tooltip">
 <p>For platform administrators to manage the entire system</p>
 </div>
 </label>
 </div>
 </div>
 </div>
 
 <!-- Club Rep Fields (Conditional) -->
 <div id="clubFields" class="space-y-4 hidden">
 <div>
 <label for="clubName" class="form-label">Club Name</label>
 <input type="text" id="clubName" placeholder="Enter your club name" class="input-field">
 </div>
 
 <div>
 <label for="clubCode" class="form-label">Club Access Code <span class="text-gray-500 dark:text-gray-400">(optional)</span></label>
 <input type="text" id="clubCode" placeholder="If provided by admin" class="input-field">
 </div>
 </div>
 
 <div class="flex items-start">
 <div class="flex items-center h-5">
 <input type="checkbox" id="terms" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600" required>
 </div>
 <div class="ml-3 text-sm">
 <label for="terms" class="text-gray-700 dark:text-gray-300">I agree to the <a href="#" class="text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300">Terms & Conditions</a> and <a href="#" class="text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300">Privacy Policy</a></label>
 </div>
 </div>
 
 <button type="submit" class="w-full bg-primary-600 hover:bg-primary-700 text-white px-4 py-3 rounded-md text-sm font-medium transition-colors flex items-center justify-center">
 <span id="registerBtnText">Create Account</span>
 <i class="fas fa-spinner loading hidden ml-2"></i>
 </button>
 
 <div class="text-center text-sm text-gray-600 dark:text-gray-400 mt-6">
 Already have an account? <a href="#" id="switchToLogin" class="text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300 font-medium">Login here</a>
 </div>
 </form>
 </div>
 </div>
 </div>

 <script>
 // DOM Elements
 const loginForm = document.getElementById('loginForm');
 const registerForm = document.getElementById('registerForm');
 const loginToggle = document.getElementById('loginToggle');
 const registerToggle = document.getElementById('registerToggle');
 const switchToRegister = document.getElementById('switchToRegister');
 const switchToLogin = document.getElementById('switchToLogin');
 const toggleLoginPassword = document.getElementById('toggleLoginPassword');
 const toggleRegisterPassword = document.getElementById('toggleRegisterPassword');
 const loginPassword = document.getElementById('loginPassword');
 const registerPassword = document.getElementById('registerPassword');
 const confirmPassword = document.getElementById('confirmPassword');
 const passwordStrengthBar = document.getElementById('passwordStrengthBar');
 const roleRadios = document.querySelectorAll('input[name="role"]');
 const clubFields = document.getElementById('clubFields');
 const navbar = document.querySelector('.navbar');
 const themeToggle = document.getElementById('theme-toggle');
 const html = document.documentElement;
 const toast = document.getElementById('toast');
 const loginNavBtn = document.getElementById('loginNavBtn');
 const logoutNavBtn = document.getElementById('logoutNavBtn');

 // API Configuration
 const API_BASE_URL = 'http://localhost:5000/api'; // Update with your backend URL

 // Auth Utility Functions
 const AuthUtils = {
 // Check if user is authenticated
 isAuthenticated: () => {
 const token = localStorage.getItem('authToken') || sessionStorage.getItem('authToken');
 return !!token;
 },

 // Get current user role
 getUserRole: () => {
 return localStorage.getItem('userRole') || sessionStorage.getItem('userRole');
 },

 // Get current user ID
 getUserId: () => {
 return localStorage.getItem('userId') || sessionStorage.getItem('userId');
 },

 // Get current user name
 getUserName: () => {
 return localStorage.getItem('userName') || sessionStorage.getItem('userName');
 },

 // Store auth data
 storeAuthData: (data, remember) => {
 const storage = remember ? localStorage : sessionStorage;
 storage.setItem('authToken', data.token);
 storage.setItem('userRole', data.role);
 storage.setItem('userName', data.name);
 storage.setItem('userId', data._id);
 },

 // Clear auth data
 clearAuthData: () => {
 localStorage.removeItem('authToken');
 localStorage.removeItem('userRole');
 localStorage.removeItem('userName');
 localStorage.removeItem('userId');
 sessionStorage.removeItem('authToken');
 sessionStorage.removeItem('userRole');
 sessionStorage.removeItem('userName');
 sessionStorage.removeItem('userId');
 },

 // Redirect based on role
 redirectByRole: () => {
 const role = AuthUtils.getUserRole();
 switch(role) {
 case 'student':
 window.location.href = 'profile.html';
 break;
 case 'club-rep':
 window.location.href = 'clubrepdash.html';
 break;
 case 'admin':
 window.location.href = 'admindashboard.html';
 break;
 default:
 window.location.href = 'authPage.html';
 }
 },

 // Protect routes - call this on all protected pages
 protectRoute: () => {
 if (!AuthUtils.isAuthenticated()) {
 window.location.href = 'authPage.html';
 }
 },

 // Check auth on public pages - call this on login/register pages
 checkAuth: () => {
 if (AuthUtils.isAuthenticated()) {
 AuthUtils.redirectByRole();
 }
 },

 // Logout function
 logout: () => {
 AuthUtils.clearAuthData();
 window.location.href = 'authPage.html';
 },

 // Update UI based on auth state
 updateAuthUI: () => {
 if (AuthUtils.isAuthenticated()) {
 if (loginNavBtn) loginNavBtn.classList.add('hidden');
 if (logoutNavBtn) logoutNavBtn.classList.remove('hidden');
 } else {
 if (loginNavBtn) loginNavBtn.classList.remove('hidden');
 if (logoutNavBtn) logoutNavBtn.classList.add('hidden');
 }
 }
 };

 // Toast Notification Function
 function showToast(message, type = 'success') {
 toast.textContent = message;
 toast.className = `toast ${type} show`;
 setTimeout(() => {
 toast.classList.remove('show');
 }, 3000);
 }

 // Theme Toggle
 function toggleTheme() {
 const newTheme = html.classList.contains('dark') ? 'light' : 'dark';
 html.classList.remove('dark', 'light');
 html.classList.add(newTheme);
 localStorage.setItem('theme', newTheme);
 }

 // Check for saved theme preference
 const currentTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
 html.classList.add(currentTheme);

 themeToggle.addEventListener('click', toggleTheme);

 // Toggle between login and register forms
 function showLoginForm() {
 loginForm.classList.remove('hidden');
 registerForm.classList.add('hidden');
 loginToggle.classList.add('active');
 registerToggle.classList.remove('active');
 }
 
 function showRegisterForm() {
 loginForm.classList.add('hidden');
 registerForm.classList.remove('hidden');
 loginToggle.classList.remove('active');
 registerToggle.classList.add('active');
 }
 
 loginToggle.addEventListener('click', showLoginForm);
 registerToggle.addEventListener('click', showRegisterForm);
 switchToRegister.addEventListener('click', (e) => {
 e.preventDefault();
 showRegisterForm();
 });
 switchToLogin.addEventListener('click', (e) => {
 e.preventDefault();
 showLoginForm();
 });
 
 // Toggle password visibility
 function togglePasswordVisibility(inputField, toggleIcon) {
 if (inputField.type === 'password') {
 inputField.type = 'text';
 toggleIcon.classList.replace('fa-eye', 'fa-eye-slash');
 } else {
 inputField.type = 'password';
 toggleIcon.classList.replace('fa-eye-slash', 'fa-eye');
 }
 }
 
 toggleLoginPassword.addEventListener('click', () => {
 togglePasswordVisibility(loginPassword, toggleLoginPassword);
 });
 
 toggleRegisterPassword.addEventListener('click', () => {
 togglePasswordVisibility(registerPassword, toggleRegisterPassword);
 });
 
 // Password strength indicator
 registerPassword.addEventListener('input', () => {
 const password = registerPassword.value;
 let strength = 0;
 
 // Check for length
 if (password.length >= 8) strength += 25;
 
 // Check for uppercase letters
 if (/[A-Z]/.test(password)) strength += 25;
 
 // Check for numbers
 if (/[0-9]/.test(password)) strength += 25;
 
 // Check for special characters
 if (/[^A-Za-z0-9]/.test(password)) strength += 25;
 
 // Update strength bar
 passwordStrengthBar.style.width = `${strength}%`;
 
 // Update color based on strength
 if (strength < 50) {
 passwordStrengthBar.style.backgroundColor = '#ef4444'; // red
 } else if (strength < 75) {
 passwordStrengthBar.style.backgroundColor = '#f59e0b'; // amber
 } else {
 passwordStrengthBar.style.backgroundColor = '#10b981'; // emerald
 }
 });
 
 // Show/hide club fields based on role selection
 roleRadios.forEach(radio => {
 radio.addEventListener('change', () => {
 if (radio.value === 'club-rep') {
 clubFields.classList.remove('hidden');
 } else {
 clubFields.classList.add('hidden');
 }
 });
 });
 
 // Form validation and submission
 registerForm.addEventListener('submit', async (e) => {
 e.preventDefault();
 
 // Validate form
 let isValid = true;
 const firstName = document.getElementById('firstName').value;
 const lastName = document.getElementById('lastName').value;
 const email = document.getElementById('registerEmail').value;
 const phone = document.getElementById('phone').value;
 const password = document.getElementById('registerPassword').value;
 const confirmPass = document.getElementById('confirmPassword').value;
 const role = document.querySelector('input[name="role"]:checked').value;
 const clubName = document.getElementById('clubName')?.value || '';
 const clubCode = document.getElementById('clubCode')?.value || '';
 const terms = document.getElementById('terms').checked;
 
 // Clear previous errors
 document.getElementById('emailError').classList.add('hidden');
 document.getElementById('passwordError').classList.add('hidden');
 document.getElementById('confirmPasswordError').classList.add('hidden');
 
 // Email validation
 if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
 document.getElementById('emailError').classList.remove('hidden');
 isValid = false;
 }
 
 // Password validation
 if (password.length < 8) {
 document.getElementById('passwordError').classList.remove('hidden');
 isValid = false;
 }
 
 // Confirm password validation
 if (password !== confirmPass) {
 document.getElementById('confirmPasswordError').classList.remove('hidden');
 isValid = false;
 }
 
 // Terms checkbox validation
 if (!terms) {
 showToast('Please agree to the Terms & Conditions', 'error');
 isValid = false;
 }
 
 if (isValid) {
 // Show loading state
 const registerBtnText = document.getElementById('registerBtnText');
 const spinner = registerBtnText.nextElementSibling;
 registerBtnText.textContent = 'Creating Account...';
 spinner.classList.remove('hidden');
 
 try {
 const response = await fetch(`${API_BASE_URL}/users/register`, {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json',
 },
 body: JSON.stringify({
 firstName,
 lastName,
 email,
 phone,
 password,
 role,
 clubName: role === 'club-rep' ? clubName : undefined,
 clubCode: role === 'club-rep' ? clubCode : undefined,
 terms
 }),
 });
 
 const data = await response.json();
 
 if (!response.ok) {
 throw new Error(data.message || 'Registration failed');
 }
 
 // Registration successful
 registerBtnText.textContent = 'Account Created!';
 spinner.classList.add('hidden');
 
 // Show success message
 showToast('Registration successful! Please login with your credentials.');
 
 // Redirect to login after 1.5 seconds
 setTimeout(() => {
 showLoginForm();
 registerBtnText.textContent = 'Create Account';
 registerForm.reset();
 passwordStrengthBar.style.width = '0%';
 clubFields.classList.add('hidden');
 }, 1500);
 
 } catch (error) {
 console.error('Registration error:', error);
 registerBtnText.textContent = 'Create Account';
 spinner.classList.add('hidden');
 showToast(error.message || 'Registration failed. Please try again.', 'error');
 }
 }
 });
 
 loginForm.addEventListener('submit', async (e) => {
 e.preventDefault();
 
 // Show loading state
 const loginBtnText = document.getElementById('loginBtnText');
 const spinner = loginBtnText.nextElementSibling;
 loginBtnText.textContent = 'Logging In...';
 spinner.classList.remove('hidden');
 
 const email = document.getElementById('loginEmail').value;
 const password = document.getElementById('loginPassword').value;
 const rememberMe = document.getElementById('rememberMe').checked;
 const role = document.getElementById('loginRole').value;
 
 try {
 const response = await fetch(`${API_BASE_URL}/users/login`, {
 method: 'POST',
 headers: {
 'Content-Type': 'application/json',
 },
 body: JSON.stringify({ email, password, role }),
 });
 
 const data = await response.json();
 
 if (!response.ok) {
 throw new Error(data.message || 'Login failed');
 }
 
 // Login successful
 loginBtnText.textContent = 'Login Successful!';
 spinner.classList.add('hidden');
 
 // Store user data
 AuthUtils.storeAuthData(data, rememberMe);
 AuthUtils.updateAuthUI();
 
 // Show success message
 showToast('Login successful! Redirecting...');
 
 // Redirect based on role after 1.5 seconds
 setTimeout(() => {
 AuthUtils.redirectByRole();
 }, 1500);
 
 } catch (error) {
 console.error('Login error:', error);
 loginBtnText.textContent = 'Login';
 spinner.classList.add('hidden');
 showToast(error.message || 'Login failed. Please try again.', 'error');
 }
 });
 
 // Initialize with login form
 showLoginForm();
 
 // Sticky Navbar Scroll Effect
 window.addEventListener('scroll', () => {
 if (window.scrollY > 10) {
 navbar.classList.add('navbar-scrolled');
 } else {
 navbar.classList.remove('navbar-scrolled');
 }
 });

 // Mobile menu toggle (if needed)
 const mobileMenuButton = document.getElementById('mobile-menu-button');
 mobileMenuButton.addEventListener('click', () => {
 // Add mobile menu functionality if needed
 console.log('Mobile menu clicked');
 });
 
 // Logout button handler
 if (logoutNavBtn) {
 logoutNavBtn.addEventListener('click', (e) => {
 e.preventDefault();
 AuthUtils.logout();
 });
 }
 
 // Initialize auth check and UI
 document.addEventListener('DOMContentLoaded', () => {
 // For auth page, check if already logged in
 AuthUtils.checkAuth();
 AuthUtils.updateAuthUI();
 });
 </script>
</body>
</html>